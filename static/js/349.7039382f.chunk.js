"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[349],{7706:function(n,t,e){e.d(t,{Z:function(){return v}});var r,a,i,o=e(1087),c=e(7689),s=e(168),u=e(7402),p=u.Z.li(r||(r=(0,s.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  list-style: none;\n  height: auto;\n  width: 240px;\n  background-color: navy;\n  text-align: center;\n  border-radius: 10px;\n  transform: scale(1);\n  transition: transform 250ms linear;\n  &:hover {\n    transform: scale(1.04);\n  }\n"]))),l=u.Z.img(a||(a=(0,s.Z)(["\n  display: block;\n  height: 360px;\n  width: 100%;\n  border-radius: 10px;\n"]))),d=u.Z.p(i||(i=(0,s.Z)(["\n  margin: 0;\n  padding: 10px;\n  color: yellow;\n  font-size: 18px;\n"]))),f=e(184);var g,h=function(n){var t=n.movie,e=t.id,r=t.title,a=t.posterPath,i=(0,c.TH)();return(0,f.jsx)(p,{children:(0,f.jsxs)(o.rU,{to:"/movies/".concat(e),state:{from:i},children:[(0,f.jsx)(l,{src:a,alt:r}),(0,f.jsx)(d,{children:r})]})})},x=u.Z.ul(g||(g=(0,s.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  gap: 15px;\n  margin-top: 30px;\n  margin-bottom: 30px;\n  padding: 0;\n"])));var v=function(n){var t=n.movies;return(0,f.jsx)(x,{children:t.map((function(n){return(0,f.jsx)(h,{movie:n},n.id)}))})}},9593:function(n,t,e){e.d(t,{Z:function(){return l}});var r,a=e(168),i=e(7402),o=e(6048),c=e.n(o),s=(0,i.Z)(c())(r||(r=(0,a.Z)(["\n  margin-top: 50px;\n  margin-bottom: 50px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  gap: 10px;\n  list-style-type: none;\n  padding: 0;\n\n  li a {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 40px;\n    width: 40px;\n    border-radius: 7px;\n    border: navy 2px solid;\n    text-decoration: none;\n    font-size: 14px;\n    color: navy;\n    cursor: pointer;\n  }\n   li.active a {\n    background-color: navy;\n    border-color: transparent;\n    color: yellow;\n  }\n  li.disabled a {\n    color: grey;\n  }\n  li.disable,\n  li.disabled a {\n    cursor: default;\n  }\n"]))),u=e(860),p=e(184);var l=function(n){var t=n.page,e=n.totalPages,r=n.changePage;return(0,p.jsx)(s,{previousLabel:(0,p.jsx)(u.UFP,{}),nextLabel:(0,p.jsx)(u.f9l,{}),breakLabel:"...",pageCount:e,pageRangeDisplayed:3,marginPagesDisplayed:2,onPageChange:function(n){r(n.selected+1)},activeClassName:"active",hrefBuilder:function(n,t){return n>=1&&n<=t?"/page/".concat(n):"#"},forcePage:t-1})}},349:function(n,t,e){e.r(t),e.d(t,{default:function(){return k}});var r,a,i,o=e(5861),c=e(9439),s=e(4687),u=e.n(s),p=e(2791),l=e(7689),d=e(7596),f=e(1293),g=e(7706),h=e(9593),x=e(8349),v=e(168),m=e(7402),y=m.Z.h1(r||(r=(0,v.Z)(["\n    color: navy;\n"]))),Z=m.Z.div(a||(a=(0,v.Z)(["\nmax-width: 320px;\n  margin: 0 auto;\n  padding: 0 20px;\n  @media screen and (min-width: 768px) {\n    max-width: 768px;\n    padding: 0 32px;\n  }\n  @media screen and (min-width: 1280px) {\n    max-width: 1280px;\n  }\n"]))),w=m.Z.main(i||(i=(0,v.Z)(["\n  flex-grow: 1;\n"]))),b=e(184);var k=function(){var n=(0,p.useState)([]),t=(0,c.Z)(n,2),e=t[0],r=t[1],a=(0,p.useState)("idle"),i=(0,c.Z)(a,2),s=i[0],v=i[1],m=(0,p.useState)(1),k=(0,c.Z)(m,2),j=k[0],_=k[1],P=(0,p.useState)(0),C=(0,c.Z)(P,2),S=C[0],D=C[1],E=(0,p.useState)(""),L=(0,c.Z)(E,2),T=L[0],U=L[1],z=(0,l.s0)(),A=(0,l.UO)();return(0,p.useEffect)((function(){var n=new AbortController;function t(){return(t=(0,o.Z)(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v("pending"),t.prev=1,t.next=4,(0,f.Df)(j,n);case 4:e=t.sent,r(e.movies),D(e.totalPages),v("resolved"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),U(t.t0.message),v("rejected");case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){n.abort()}}),[j]),(0,p.useEffect)((function(){A.page?_(A.page):_(1)}),[A.page]),(0,p.useEffect)((function(){"canceled"!==T&&T&&(d.Am.error(T),U(""))}),[T]),(0,b.jsx)(w,{children:(0,b.jsxs)(Z,{children:["pending"===s&&(0,b.jsx)(x.Z,{}),"resolved"===s&&(0,b.jsx)(y,{children:"Trending today"}),"resolved"===s&&(0,b.jsx)(g.Z,{movies:e}),"resolved"===s&&(0,b.jsx)(h.Z,{page:j,totalPages:S,changePage:function(n){z("/".concat(n)),_(n)}})]})})}},1293:function(n,t,e){e.d(t,{M1:function(){return h},TP:function(){return f},tx:function(){return v},Wf:function(){return y},Df:function(){return l}});var r=e(5861),a=e(4687),i=e.n(a),o=e(1243),c=e(5652);function s(n){return n?"https://image.tmdb.org/t/p/w500/".concat(n):c}var u="1196368753ba671380e452b9a1020481",p="https://api.themoviedb.org/3/";function l(n,t){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(i().mark((function n(t,e){var r,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("".concat(p,"trending/movie/day?api_key=").concat(u,"&page=").concat(t),{signal:e.signal});case 2:return r=n.sent,a=r.data.results.map((function(n){return{id:n.id,title:n.title,posterPath:s(n.poster_path)}})),n.abrupt("return",{movies:a,totalPages:r.data.total_pages});case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function f(n,t){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(i().mark((function n(t,e){var r,a,c,l,d,f,g,h;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("".concat(p,"/movie/").concat(t,"?api_key=").concat(u),{signal:e.signal});case 2:return r=n.sent,a=r.data,c=a.title,l=a.poster_path,d=a.overview,f=a.genres,g=a.vote_average,h=a.release_date,n.abrupt("return",{title:c,posterPath:s(l),overview:d,genres:f.map((function(n){return n.name})).join(", "),vote:g.toFixed(1),year:h.slice(0,4)});case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function h(n,t){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(i().mark((function n(t,e){var r,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("".concat(p,"/movie/").concat(t,"/credits?api_key=").concat(u),{signal:e.signal});case 2:return r=n.sent,a=r.data.cast.map((function(n){var t=n.id,e=n.name,r=n.profile_path,a=n.character;return{id:t,name:e,profilePath:s(r),character:a}})),n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function v(n,t){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(i().mark((function n(t,e){var r,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("".concat(p,"/movie/").concat(t,"/reviews?api_key=").concat(u),{signal:e.signal});case 2:return r=n.sent,a=r.data.results.map((function(n){return{id:n.id,author:n.author,content:n.content}})),n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function y(n){return Z.apply(this,arguments)}function Z(){return Z=(0,r.Z)(i().mark((function n(t){var e,r,a,c,l=arguments;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=l.length>1&&void 0!==l[1]?l[1]:1,r=l.length>2?l[2]:void 0,n.next=4,o.Z.get("".concat(p,"search/movie?api_key=").concat(u,"&query=").concat(t,"&page=").concat(e),{signal:r.signal});case 4:return a=n.sent,c=a.data.results.map((function(n){return{id:n.id,title:n.title,posterPath:s(n.poster_path)}})),n.abrupt("return",{movies:c,totalPages:a.data.total_pages,totalResults:a.data.total_results});case 7:case"end":return n.stop()}}),n)}))),Z.apply(this,arguments)}},5652:function(n,t,e){n.exports=e.p+"static/media/no-image.48037438551d1abf8f13.jpg"}}]);
//# sourceMappingURL=349.7039382f.chunk.js.map